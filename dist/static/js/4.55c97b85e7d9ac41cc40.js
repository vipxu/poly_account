webpackJsonp([4],{340:function(t,e,o){function n(t){o(395)}var i=o(0)(o(365),o(435),n,"data-v-3c28d4e8",null);t.exports=i.exports},365:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(431),i=o.n(n);e.default={name:"voucherlist",components:{popover:i.a},data:function(){return{voucherTableData:[],vlform:{accountantBegin:"",accountantEnd:""},periodsList:[],periodEndshow:!1,periodBegin:"",periodEnd:"",popshow:!1}},mounted:function(){this.getPeriodsCurrencysData()},methods:{getPeriodsCurrencysData:function(){var t=this;t.AxiosPost("getAcctBookPeriodAndCurrency",{accbookUid:t.$store.state.accbookUid},function(e){if("1"===e.code){e.data.acctBookInfo.periods.forEach(function(e,o){t.periodsList.push({value:e.yearPeriod+"",label:e.iyear+"年"+e.iperiod+"期",year:e.iyear,period:e.iperiod})}),t.vlform.accountantBegin=t.periodsList[0].value,t.vlform.accountantEnd=t.periodsList[0].value,t.periodBegin=t.periodsList[0].label,t.submitForm()}else"1006"===e.code?t.periodsList=[]:t.Message(e.msg,"error")})},vlCommand:function(t){t},periodChange:function(){var t=this,e="",o="",n="",i="";return this.periodsList.forEach(function(a,r){t.vlform.accountantBegin===a.value&&(t.periodBegin=a.label,e=a.year,n=a.period),t.vlform.accountantEnd===a.value&&(t.periodEnd=a.label,o=a.year,i=a.period)}),parseInt(e)>parseInt(o)?(this.Message("起始期间不能大于结束期间","warning"),!1):parseInt(n)>parseInt(i)?(this.Message("起始期间不能大于结束期间","warning"),!1):(this.vlform.accountantBegin===this.vlform.accountantEnd?this.periodEndshow=!1:this.periodEndshow=!0,!0)},getVoucherList:function(){var t=this;t.AxiosPost("getVoucherList",{acctBookUid:t.$store.state.accbookUid,periodStart:t.vlform.accountantBegin,periodEnd:t.vlform.accountantEnd},function(e){"1"===e.code?t.voucherTableData=e.data.accvouchList:"1006"===e.code?t.voucherTableData=[]:t.Message(e.msg,"error")})},submitForm:function(){this.periodChange()&&(this.popshow=!1,this.getVoucherList())},resetForm:function(){this.vlform.accountantBegin=this.periodsList[0].value,this.vlform.accountantEnd=this.periodsList[0].value,this.periodBegin=this.periodsList[0].label},editRow:function(t,e){this.$store.state.voucherUid=e.voucherUID,this.$router.push({path:"1-3"})},deleteRow:function(t,e){}}}},370:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"my-popover",props:{width:String,contentWidth:String,text:String,transition:{type:String,default:"fade-in-linear"},size:String,popover:{type:Boolean,default:!1}},data:function(){return{}},methods:{setSize:function(t){var e="";switch(t){case"small":e="size-small";break;case"mini":e="size-mini";break;case"large":e="size-large"}return e},handleClick:function(t){this.$emit("update:popover",!t)}}}},378:function(t,e,o){e=t.exports=o(332)(!0),e.push([t.i,"#VoucherList .el-row[data-v-3c28d4e8]{line-height:36px;margin-bottom:15px}#VoucherList .el-row .vl-top-left[data-v-3c28d4e8]{float:left}#VoucherList .el-row .vl-top-left .vl-span[data-v-3c28d4e8]{float:left;margin-right:10px}#VoucherList .el-row .vl-top-right[data-v-3c28d4e8]{float:right}#VoucherList #voucherTableData tbody tr td .cell p[data-v-3c28d4e8]{line-height:30px;height:30px;margin:0 -8px;padding:0 8px}#VoucherList #voucherTableData tbody tr td .cell p[data-v-3c28d4e8]:not(:last-child){border-bottom:1px solid #dfe8ec}#VoucherList #vlform[data-v-3c28d4e8]{width:380px}#VoucherList #vlform .el-form-item[data-v-3c28d4e8]{margin-bottom:10px}#VoucherList #vlform .el-form-item[data-v-3c28d4e8]:last-child{margin-bottom:0}#VoucherList #vlform .line[data-v-3c28d4e8]{text-align:center}#VoucherList #vlform .btnBox[data-v-3c28d4e8]{float:right}","",{version:3,sources:["C:/Users/pc/Desktop/poly_account(2017.10.8)/src/FinancePages/VoucherList/VoucherList.vue"],names:[],mappings:"AACA,sCACE,iBAAkB,AAClB,kBAAoB,CACrB,AACD,mDACI,UAAY,CACf,AACD,4DACM,WAAY,AACZ,iBAAmB,CACxB,AACD,oDACI,WAAa,CAChB,AACD,oEACE,iBAAkB,AAClB,YAAa,AACb,cAAe,AACf,aAAe,CAChB,AACD,qFACI,+BAAiC,CACpC,AACD,sCACE,WAAa,CACd,AACD,oDACI,kBAAoB,CACvB,AACD,+DACM,eAAiB,CACtB,AACD,4CACI,iBAAmB,CACtB,AACD,8CACI,WAAa,CAChB",file:"VoucherList.vue",sourcesContent:["\n#VoucherList .el-row[data-v-3c28d4e8] {\n  line-height: 36px;\n  margin-bottom: 15px;\n}\n#VoucherList .el-row .vl-top-left[data-v-3c28d4e8] {\n    float: left;\n}\n#VoucherList .el-row .vl-top-left .vl-span[data-v-3c28d4e8] {\n      float: left;\n      margin-right: 10px;\n}\n#VoucherList .el-row .vl-top-right[data-v-3c28d4e8] {\n    float: right;\n}\n#VoucherList #voucherTableData tbody tr td .cell p[data-v-3c28d4e8] {\n  line-height: 30px;\n  height: 30px;\n  margin: 0 -8px;\n  padding: 0 8px;\n}\n#VoucherList #voucherTableData tbody tr td .cell p[data-v-3c28d4e8]:not(:last-child) {\n    border-bottom: 1px solid #dfe8ec;\n}\n#VoucherList #vlform[data-v-3c28d4e8] {\n  width: 380px;\n}\n#VoucherList #vlform .el-form-item[data-v-3c28d4e8] {\n    margin-bottom: 10px;\n}\n#VoucherList #vlform .el-form-item[data-v-3c28d4e8]:last-child {\n      margin-bottom: 0;\n}\n#VoucherList #vlform .line[data-v-3c28d4e8] {\n    text-align: center;\n}\n#VoucherList #vlform .btnBox[data-v-3c28d4e8] {\n    float: right;\n}\n"],sourceRoot:""}])},381:function(t,e,o){e=t.exports=o(332)(!0),e.push([t.i,'.my-popover[data-v-69884070]{display:inline-block;position:relative;font-size:14px}.my-popover .pop-text[data-v-69884070]{vertical-align:top;display:inline-block;position:relative;height:36px;line-height:16px;padding:10px 36px 10px 10px;white-space:nowrap;cursor:pointer;background:#fff;border:1px solid #c4c4c4;color:#1f313d;margin:0;border-radius:4px;-webkit-box-sizing:border-box;box-sizing:border-box}.my-popover .pop-text.pop-hover[data-v-69884070]{border-color:#0087be}.my-popover .pop-text .my-icon[data-v-69884070]{position:absolute;width:35px;height:100%;line-height:16px;text-align:center;right:0;top:50%;color:#bfcbd9;font-size:12px;-webkit-transition:-webkit-transform .3s;transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s;-webkit-transform:translateY(-50%) rotate(180deg);transform:translateY(-50%) rotate(180deg);-webkit-box-sizing:border-box;box-sizing:border-box;cursor:pointer}.my-popover .pop-text .my-icon[data-v-69884070]:after{content:"";height:100%;width:0;display:inline-block;vertical-align:middle}.my-popover .pop-text .my-icon.is-reverse[data-v-69884070]{-webkit-transform:translateY(-50%);transform:translateY(-50%)}.my-popover .pop-text.size-small[data-v-69884070]{height:28px;line-height:12px;font-size:12px;padding:7px 36px 7px 10px}.my-popover .pop-text.size-mini[data-v-69884070]{height:22px;line-height:12px;font-size:12px;padding:4px 36px 4px 10px}.my-popover .pop-text.size-large[data-v-69884070]{height:40px;line-height:18px;font-size:16px;padding:11px 36px 11px 10px}.my-popover .pop-content[data-v-69884070]{position:absolute;background:#fff;min-width:150px;border-radius:2px;border:1px solid #d1dbe5;padding:15px;z-index:5;margin-top:5px;font-size:14px;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.12),0 0 6px rgba(0,0,0,.12);box-shadow:0 2px 4px rgba(0,0,0,.12),0 0 6px rgba(0,0,0,.12)}',"",{version:3,sources:["C:/Users/pc/Desktop/poly_account(2017.10.8)/src/components/popover.vue"],names:[],mappings:"AACA,6BACE,qBAAsB,AACtB,kBAAmB,AACnB,cAAgB,CACjB,AACD,uCACI,mBAAoB,AACpB,qBAAsB,AACtB,kBAAmB,AACnB,YAAa,AACb,iBAAkB,AAClB,4BAA6B,AAC7B,mBAAoB,AACpB,eAAgB,AAChB,gBAAiB,AACjB,yBAA0B,AAC1B,cAAe,AACf,SAAU,AACV,kBAAmB,AACnB,8BAA+B,AACvB,qBAAuB,CAClC,AACD,iDACM,oBAAsB,CAC3B,AACD,gDACM,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,QAAS,AACT,QAAS,AACT,cAAe,AACf,eAAgB,AAChB,yCAA0C,AAC1C,iCAAkC,AAClC,yBAA0B,AAC1B,+CAAiD,AACjD,kDAAmD,AAC3C,0CAA2C,AACnD,8BAA+B,AACvB,sBAAuB,AAC/B,cAAgB,CACrB,AACD,sDACQ,WAAY,AACZ,YAAa,AACb,QAAS,AACT,qBAAsB,AACtB,qBAAuB,CAC9B,AACD,2DACM,mCAAoC,AAC5B,0BAA4B,CACzC,AACD,kDACM,YAAa,AACb,iBAAkB,AAClB,eAAgB,AAChB,yBAA2B,CAChC,AACD,iDACM,YAAa,AACb,iBAAkB,AAClB,eAAgB,AAChB,yBAA2B,CAChC,AACD,kDACM,YAAa,AACb,iBAAkB,AAClB,eAAgB,AAChB,2BAA6B,CAClC,AACD,0CACI,kBAAmB,AACnB,gBAAiB,AACjB,gBAAiB,AACjB,kBAAmB,AACnB,yBAA0B,AAC1B,aAAc,AACd,UAAW,AACX,eAAgB,AAChB,eAAgB,AAChB,qEAA+E,AACvE,4DAAuE,CAClF",file:"popover.vue",sourcesContent:['\n.my-popover[data-v-69884070] {\n  display: inline-block;\n  position: relative;\n  font-size: 14px;\n}\n.my-popover .pop-text[data-v-69884070] {\n    vertical-align: top;\n    display: inline-block;\n    position: relative;\n    height: 36px;\n    line-height: 16px;\n    padding: 10px 36px 10px 10px;\n    white-space: nowrap;\n    cursor: pointer;\n    background: #fff;\n    border: 1px solid #c4c4c4;\n    color: #1f313d;\n    margin: 0;\n    border-radius: 4px;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n}\n.my-popover .pop-text.pop-hover[data-v-69884070] {\n      border-color: #0087be;\n}\n.my-popover .pop-text .my-icon[data-v-69884070] {\n      position: absolute;\n      width: 35px;\n      height: 100%;\n      line-height: 16px;\n      text-align: center;\n      right: 0;\n      top: 50%;\n      color: #bfcbd9;\n      font-size: 12px;\n      -webkit-transition: -webkit-transform .3s;\n      transition: -webkit-transform .3s;\n      transition: transform .3s;\n      transition: transform .3s, -webkit-transform .3s;\n      -webkit-transform: translateY(-50%) rotate(180deg);\n              transform: translateY(-50%) rotate(180deg);\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      cursor: pointer;\n}\n.my-popover .pop-text .my-icon[data-v-69884070]:after {\n        content: "";\n        height: 100%;\n        width: 0;\n        display: inline-block;\n        vertical-align: middle;\n}\n.my-popover .pop-text .my-icon.is-reverse[data-v-69884070] {\n      -webkit-transform: translateY(-50%);\n              transform: translateY(-50%);\n}\n.my-popover .pop-text.size-small[data-v-69884070] {\n      height: 28px;\n      line-height: 12px;\n      font-size: 12px;\n      padding: 7px 36px 7px 10px;\n}\n.my-popover .pop-text.size-mini[data-v-69884070] {\n      height: 22px;\n      line-height: 12px;\n      font-size: 12px;\n      padding: 4px 36px 4px 10px;\n}\n.my-popover .pop-text.size-large[data-v-69884070] {\n      height: 40px;\n      line-height: 18px;\n      font-size: 16px;\n      padding: 11px 36px 11px 10px;\n}\n.my-popover .pop-content[data-v-69884070] {\n    position: absolute;\n    background: #fff;\n    min-width: 150px;\n    border-radius: 2px;\n    border: 1px solid #d1dbe5;\n    padding: 15px;\n    z-index: 5;\n    margin-top: 5px;\n    font-size: 14px;\n    -webkit-box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12), 0 0 6px rgba(0, 0, 0, 0.12);\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12), 0 0 6px rgba(0, 0, 0, 0.12);\n}\n'],sourceRoot:""}])},395:function(t,e,o){var n=o(378);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);o(333)("43660f48",n,!0)},398:function(t,e,o){var n=o(381);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);o(333)("fb2a9ccc",n,!0)},431:function(t,e,o){function n(t){o(398)}var i=o(0)(o(370),o(438),n,"data-v-69884070",null);t.exports=i.exports},435:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"VoucherList"}},[o("el-row",[o("div",{staticClass:"vl-top-left"},[o("span",{staticClass:"fz4 vl-span"},[t._v("查凭证")]),t._v(" "),o("popover",{attrs:{"content-width":"400",popover:t.popshow},on:{"update:popover":function(e){t.popshow=e}}},[o("template",{slot:"text"},[o("span",{domProps:{textContent:t._s(t.periodBegin)}}),t._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:t.periodEndshow,expression:"periodEndshow"}]},[t._v("至")]),t._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:t.periodEndshow,expression:"periodEndshow"}],domProps:{textContent:t._s(t.periodEnd)}})]),t._v(" "),o("template",{slot:"content"},[o("el-form",{attrs:{id:"vlform",model:t.vlform,"label-width":"70px"}},[o("el-form-item",{attrs:{label:"会计期间"}},[o("el-col",{attrs:{span:10}},[o("el-select",{attrs:{size:"small"},model:{value:t.vlform.accountantBegin,callback:function(e){t.vlform.accountantBegin=e},expression:"vlform.accountantBegin"}},t._l(t.periodsList,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),o("el-col",{staticClass:"line",attrs:{span:2}},[t._v("至")]),t._v(" "),o("el-col",{attrs:{span:10}},[o("el-select",{attrs:{size:"small"},model:{value:t.vlform.accountantEnd,callback:function(e){t.vlform.accountantEnd=e},expression:"vlform.accountantEnd"}},t._l(t.periodsList,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),o("el-col",{staticClass:"line",attrs:{span:2}},[o("i",{staticClass:"el-icon-time"})])],1),t._v(" "),o("el-form-item",[o("div",{staticClass:"btnBox"},[o("el-button",{attrs:{size:"small"},on:{click:function(e){t.resetForm()}}},[t._v("重置")]),t._v(" "),o("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.submitForm()}}},[t._v("确定")])],1)])],1)],1)],2)],1),t._v(" "),o("div",{staticClass:"vl-top-right"},[o("el-button",{attrs:{type:"primary"}},[t._v("新增")]),t._v(" "),o("el-button",[t._v("打印")]),t._v(" "),o("el-button",[t._v("导出")]),t._v(" "),o("el-button",[t._v("审核")]),t._v(" "),o("el-dropdown",{attrs:{"menu-align":"start"},on:{command:t.vlCommand}},[o("el-button",[t._v("更多\n                    "),o("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),t._v(" "),o("el-dropdown-menu",{slot:"dropdown"},[o("el-dropdown-item",{attrs:{command:"1"}},[t._v("反审核")]),t._v(" "),o("el-dropdown-item",{attrs:{command:"2"}},[t._v("整理")]),t._v(" "),o("el-dropdown-item",{attrs:{command:"3"}},[t._v("插入")]),t._v(" "),o("el-dropdown-item",{attrs:{command:"4"}},[t._v("导入")]),t._v(" "),o("el-dropdown-item",{attrs:{command:"5"}},[t._v("批量删除")]),t._v(" "),o("el-dropdown-item",{attrs:{command:"6"}},[t._v("列表打印")]),t._v(" "),o("el-dropdown-item",{attrs:{command:"7"}},[t._v("按导入模板格式导出")])],1)],1)],1)]),t._v(" "),o("div",{staticClass:"el-card--custom"},[o("el-table",{staticStyle:{width:"100%"},attrs:{id:"voucherTableData",data:t.voucherTableData,border:"",height:"600",stripe:""}},[o("el-table-column",{attrs:{type:"selection",align:"center",width:"55"}}),t._v(" "),o("el-table-column",{attrs:{prop:"voucherDate",label:"日期",align:"center",width:"130"}}),t._v(" "),o("el-table-column",{attrs:{prop:"voucherNumber",align:"center",label:"凭证字号",width:"100"}}),t._v(" "),o("el-table-column",{attrs:{label:"摘要","header-align":"center","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.voucherRows,function(e,n){return o("p",{key:n,domProps:{textContent:t._s(e.voucherRemark)}})})}}])}),t._v(" "),o("el-table-column",{attrs:{label:"科目","header-align":"center","min-width":"300"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.voucherRows,function(e,n){return o("p",{key:n,domProps:{textContent:t._s(e.subjectName)}})})}}])}),t._v(" "),o("el-table-column",{attrs:{label:"借方金额","header-align":"center",align:"right",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.voucherRows,function(e,n){return o("p",{key:n,domProps:{textContent:t._s(0===e.debitAmount?"":t.moneyChange.outputmoney(e.debitAmount))}})})}}])}),t._v(" "),o("el-table-column",{attrs:{label:"贷方金额","header-align":"center",align:"right",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.voucherRows,function(e,n){return o("p",{key:n,domProps:{textContent:t._s(0===e.creditAmount?"":t.moneyChange.outputmoney(e.creditAmount))}})})}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"billPerson",label:"制单人",align:"center",width:"120"}}),t._v(" "),o("el-table-column",{attrs:{prop:"checkPerson",label:"审核人",align:"center",width:"120"}}),t._v(" "),o("el-table-column",{attrs:{prop:"",label:"操作",fixed:"",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{staticClass:"el-icon-edit",attrs:{type:"text",size:"small"},nativeOn:{click:function(o){o.preventDefault(),t.editRow(e.$index,e.row)}}}),t._v(" "),o("el-button",{staticClass:"el-icon-close",attrs:{type:"text",size:"small"},nativeOn:{click:function(o){o.preventDefault(),t.deleteRow(e.$index,e.row)}}})]}}])})],1)],1)],1)},staticRenderFns:[]}},438:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"my-popover"},[o("div",{staticClass:"pop-text",class:[t.setSize(t.size),t.popover?"pop-hover":""],style:{width:t.width+"px"},on:{click:function(e){t.handleClick(t.popover)}}},[t._t("text"),t._v(" "),o("i",{staticClass:"my-icon el-icon-caret-top",class:[t.popover?"is-reverse":""]})],2),t._v(" "),o("transition",{attrs:{name:t.transition}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.popover,expression:"popover"}],staticClass:"pop-content",style:{width:t.contentWidth+"px"}},[t._t("content")],2)])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=4.55c97b85e7d9ac41cc40.js.map